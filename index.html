
<!DOCTYPE html>
<html dir="rtl" lang="fa">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Saffron Shop Herat - Digital Business Card</title>
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <script>
      // پاکسازی سرویس ورکرها بلافاصله
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
          for(let registration of registrations) {
            registration.unregister();
          }
        });
      }

      window.forceAppUpdate = function() {
        console.log("Hard refreshing PWA...");
        if ('caches' in window) {
          caches.keys().then(function(names) {
            return Promise.all(names.map(name => caches.delete(name)));
          }).then(function() {
            // ایجاد یک URL کاملاً جدید برای شکستن کش ISP و سیستم عامل
            const url = new URL(window.location.origin + window.location.pathname);
            url.searchParams.set('refresh_id', Math.random().toString(36).substring(7));
            window.location.replace(url.toString());
          });
        } else {
          window.location.reload(true);
        }
      };
    </script>

    <link rel="manifest" href="./manifest.json" />
    <meta name="theme-color" content="#2e102d" />
    
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700;800&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#D4AF37",
              secondary: "#4a1c40",
              "background-light": "#fdf2f8",
              "background-dark": "#2e102d",
              "gold-light": "#E5C564",
              "gold-dark": "#B89426",
            },
            fontFamily: { sans: ["Vazirmatn", "sans-serif"] },
            borderRadius: { "2xl": "24px" },
            backgroundImage: { "saffron-gradient": "linear-gradient(to bottom, rgba(74, 28, 64, 0.85), rgba(46, 16, 45, 0.95))" },
            boxShadow: { "gold-glow": "0 0 15px rgba(212, 175, 55, 0.3)" },
            keyframes: {
              slideDown: { '0%': { transform: 'translate(-50%, -100%)', opacity: '0' }, '100%': { transform: 'translate(-50%, 0)', opacity: '1' } },
              fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
              breathing: { '0%, 100%': { filter: 'brightness(0.7)' }, '50%': { filter: 'brightness(1.25)' } }
            },
            animation: { slideDown: 'slideDown 0.5s ease-out forwards', fadeIn: 'fadeIn 0.5s ease-out forwards', 'breathing': 'breathing 6s ease-in-out infinite' }
          },
        },
      };
    </script>
    <style>
      body { font-family: "Vazirmatn", sans-serif; background-color: #2e102d; }
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: #2e102d; }
      ::-webkit-scrollbar-thumb { background: #4a1c40; border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: #D4AF37; }
    </style>
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@^19.2.3",
        "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
        "react/": "https://esm.sh/react@^19.2.3/",
        "vite": "https://esm.sh/vite@^7.2.7",
        "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2"
      }
    }
    </script>
  <link rel="stylesheet" href="/index.css">
</head>
  <body class="min-h-screen bg-gray-900 text-white antialiased overflow-x-hidden">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
